# MechInMinutes - Автоматический загрузчик длинных видео с YouTube

Автоматический загрузчик длинных видео с YouTube, который нарезает их на короткие части и загружает на YouTube Shorts.

## Описание проекта

MechInMinutes - это система автоматической обработки длинных видео с YouTube, которая:

- Скачивает длинные видео с YouTube
- Нарезает их на короткие части по 59 секунд с перекрытием 2 секунды
- Переформатирует с горизонтального в вертикальный формат (9:16)
- Накладывает видео на видео для перекрытия черного фона
- Загружает готовые части на YouTube с названием исходного видео + номер части

## Возможности

- ✅ Автоматическое скачивание видео с YouTube
- ✅ Нарезка на короткие сегменты (59 сек с перекрытием 2 сек)
- ✅ Конвертация в вертикальный формат (9:16)
- ✅ Наложение видео для заполнения фона
- ✅ Автоматическая загрузка на YouTube Shorts
- ✅ Обработка целых каналов YouTube
- ✅ Система восстановления после сбоев
- ✅ Обработка квот YouTube API
- ✅ Поддержка бесконечного цикла обработки

## Установка

### Системные требования

- Python 3.8+
- FFmpeg установленный в системе
- Достаточно места на диске для временных файлов
- Стабильное интернет-соединение

### Установка зависимостей

```bash
cd MechInMinutes
pip install -r requirements.txt
```

### Настройка YouTube API

1. Создайте проект в [Google Cloud Console](https://console.cloud.google.com/)
2. Включите YouTube Data API v3
3. Создайте OAuth 2.0 credentials
4. Скачайте `client_secret.json` и поместите в папку `resources/`
5. Запустите `setup_auth.py` для настройки аутентификации

## Использование

### Обработка одного видео

```bash
python main.py
```

Введите URL видео при запросе.

### Обработка канала

```bash
python run_channel.sh
```

### Обработка плейлиста

```bash
python run_playlist.sh
```

## Структура проекта

```
MechInMinutes/
├── main.py                 # Главный модуль
├── main_processor.py       # Основной процессор
├── youtube_downloader.py   # Модуль скачивания
├── video_processor.py      # Обработка видео
├── youtube_uploader.py     # Загрузка на YouTube
├── auth.py                 # Аутентификация
├── config.py              # Конфигурация
├── logger.py              # Система логирования
├── templates.py            # Шаблоны
└── tests/                 # Тесты
```

## Конфигурация

Основные настройки в `config.py`:

- `SEGMENT_DURATION`: Длительность сегментов (59 сек)
- `OVERLAP_DURATION`: Перекрытие между сегментами (2 сек)
- `OUTPUT_WIDTH`: Ширина выходного видео (1080)
- `OUTPUT_HEIGHT`: Высота выходного видео (1920)
- `QUALITY`: Качество сжатия

## Тестирование

```bash
python -m pytest tests/
```

## Развертывание

Для продакшн развертывания используйте:

```bash
./deploy.sh
```

## Лицензия

MIT License - см. файл [LICENSE](MechInMinutes/LICENSE)

## Поддержка

Для вопросов и предложений создавайте Issues в репозитории.

## Roadmap

Полный план развития проекта см. в [roadmap.md](roadmap.md)
